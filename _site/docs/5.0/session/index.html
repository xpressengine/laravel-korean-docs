<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width">

  <title>세션(Session)</title>
  <meta name="description" content="라라벨 한글 메뉴얼에 대한 메뉴얼 페이지입니다.">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script src="/laravel-korean-docs/js/prism.js"></script>
  
  <link rel="stylesheet" href="//cdn.jsdelivr.net/xeicon/1.0.4/xeicon.min.css">
  <link rel="stylesheet" href="/laravel-korean-docs/css/layout.css">
  <link rel="canonical" href="http://www.xpressengine.com/laravel-korean-docs/docs/5.0/session/">
</head>


  <body>

    <div class="container">
    <header>
        <div class="wrap">
            <h1 class="logo"><a href="/laravel-korean-docs/">Laravel korean docs <small>laravel 한글 매뉴얼</small></a></h1>
            <div class="btn_area">
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/tree/kr-5.0/kr">View on Github</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs/archive/kr-5.0.zip">Download.zip</a>
                <a class="button" href="https://github.com/xpressengine/laravel-korean-docs.git">Git Repository</a>
            </div>
        </div>
    </header>
    <div class="supported">
        <div class="wrap">
            <a class="bnr" href="http://www.xpressengine.com"><img src="/laravel-korean-docs/img/bnr1.png" /></a><a class="bnr" href="http://dev.naver.com/d2"><img src="/laravel-korean-docs/img/bnr2.png" /></a><a class="bnr" href="http://xpressengine.github.io/XEIcon/"><img src="/laravel-korean-docs/img/bnr3.png" /></a><a class="bnr" href="http://xpressengine.github.io/Composer-korean-docs/"><img src="/laravel-korean-docs/img/bnr4.png" /></a><a class="bnr" href="http://laravel.com/"><img src="/laravel-korean-docs/img/bnr5.png" /></a>
        </div>
    </div>
    <div class="body docs">
        <div class="wrap">
            <section class="sidebar">
            <ul>
    <li>Prologue
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/upgrade">업그레이드 가이드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contributions">기여 가이드</a></li>
        </ul>
    </li>
    <li>Setup
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/installation">설치하기</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/configuration">설정</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/homestead">라라벨 홈스테드</a></li>
        </ul>
    </li>
    <li>The Basics
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/routing">HTTP 라우팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/middleware">HTTP 미들웨어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/controllers">HTTP 컨트롤러</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/requests">Requests</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/responses">Responses</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/views">뷰-Views</a></li>
        </ul>
    </li>
    <li>Architecture Foundations
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/providers">서비스 프로바이더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/container">서비스 컨테이너</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/contracts">Contracts</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/facades">파사드</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/lifecycle">라이프사이클</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/structure">어플리케이션 구조</a></li>
        </ul>
    </li>
    <li>Services
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/authentication">인증</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/billing">라라벨 캐셔</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/cache">캐시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/collections">컬렉션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/bus">커맨드 버스</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/extending">프레임워크의 확장</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/elixir">라라벨 엘릭서</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/encryption">암호화</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/envoy">Envoy</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/errors">에러와 로깅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/events">이벤트</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/filesystem">파일시스템 / 클라우드 스토리지</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/hashing">해시</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/helpers">헬퍼 함수</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/localization">지역화-다국어</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/mail">메일</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/packages">패키지 개발</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/pagination">페이지네이션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queues">큐</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/session">세션</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/templates">템플릿</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/testing">테스팅</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/validation">Validation</a></li>
        </ul>
    </li>
    <li>Database
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/database">기본적인 데이터 베이스 사용법</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/queries">쿼리 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/eloquent">Eloquent ORM</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/schema">스키마 빌더</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/migrations">마이그레이션과 시딩</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/redis">Redis</a></li>
        </ul>
    </li>
    <li>Artisan CLI
        <ul>
            <li><a href="/laravel-korean-docs/docs/5.0/artisan">아티즌 CLI</a></li>
            <li><a href="/laravel-korean-docs/docs/5.0/commands">아티즌 명령어 개발하기</a></li>
        </ul>
    </li>
</ul>
            </section>

      <article class="content">
      <h1 id="세션(session)">세션(Session)</h1>

<ul>
<li><a href="#configuration">설정</a></li>
<li><a href="#session-usage">세션 사용법</a></li>
<li><a href="#flash-data">임시 데이터</a></li>
<li><a href="#database-sessions">데이터베이스 세션</a></li>
<li><a href="#session-drivers">세션 드라이버</a></li>
</ul>

<p><a name="configuration"></a></p>

<h2 id="설정">설정</h2>

<p>HTTP 기반의 어플리케이션은 상태를 저장할수 없기 때문에, HTTP 요청들에 관계없이 사용자의 정보를 저장하기위해서 세션이 사용됩니다. 라라벨은 다양한 벡엔드 세션들에 관계없이 간결하고 통일된 API를 제공합니다. 많이 알려진  <a href="http://memcached.org">Memcached</a>, <a href="http://redis.io">Redis</a> 그리고 데이터베이스를 별다른 설정 없이 세션 시스템으로 사용할 수 있습니다.</p>

<p>세션의 설정은 <code>config/session.php</code> 파일에 있습니다. 이 파일에는 각각의 옵션에 대한 정리된 문서가 포함되어 있으므로 잘 확인하시기 바랍니다. 대부분의 어플리케이션에서 작동이 가능하도록 기본적으로 라라벨은 <code>file</code> 세션 드라이버를 사용합니다.</p>

<p>라라벨에서 Redis 세션을 사용하기 위해서는 컴포저를 통해서 <code>predis/predis  (~1.0)</code> 패키지를 설치해야만 합니다.</p>

<blockquote>
<p><strong>참고:</strong> 세션을 암호화하여 저장하고자 한다면 <code>encrypt</code> 설정 옵션을 <code>true</code>로 지정하십시오.</p>

<p><strong>주의</strong> <code>cookie</code> 세션 드라이버를 사용할 때에는 HTTP 커널에서 <strong>절대로</strong> <code>EncryptCookie</code> 미들웨어를 제거해서는 안됩니다. 이 미들웨어를 제거하게 되면, 어플리케이션이 원격으로부터 코드를 실행하는 취약점이 존재합니다.</p>
</blockquote>

<h4 id="예약어">예약어</h4>

<p>라라벨 프레임워크는 내부적으로 <code>flash</code>라는 세션키를 사용하고 있으므로 이 이름으로 세션을 추가하지 말아야 합니다.</p>

<div class="chak-comment-wrap"><div class="chak-comment-widget" data-chak-group="laravel" data-chak-apikey="582898af492efbcdd53990e1c6ccb89d-laravel-korean-docs-세션(Session)-설정" ><i class="xi-message"></i> <strong>클릭</strong>하여 의견을 공유할 수 있습니다. ( 총 <span class="count"><i class="xi-spinner-5 xi-spin"></i></span>개의 의견이 있습니다. )</div></div>

<p><a name="session-usage"></a></p>

<h2 id="세션-사용법">세션 사용법</h2>

<p>세션에 엑세스하기 위해서는 여러 가지 방법이 있습니다. HTTP 요청-request의 <code>session</code> 메소드를 사용하는 방법, <code>Session</code> 파사드를 사용하는 방법, 그리고 <code>session</code> 헬퍼함수를 사용할 수 있습니다. 아무런 전달 인자 없이 <code>session</code> 헬퍼함수를 호출할 때에는 전체 세션 객체가 반환됩니다. 예를 들어:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">session()-&gt;regenerate();
</code></pre></div>
<h4 id="아이템-세션에-저장하기">아이템 세션에 저장하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Session::put(&#39;key&#39;, &#39;value&#39;);

session([&#39;key&#39; =&gt; &#39;value&#39;]);
</code></pre></div>
<h4 id="배열-세션값으로-저장하기">배열 세션값으로 저장하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Session::push(&#39;user.teams&#39;, &#39;developers&#39;);
</code></pre></div>
<h4 id="세션에서-특정-아이템-가져오기">세션에서 특정 아이템 가져오기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$value = Session::get(&#39;key&#39;);

$value = session(&#39;key&#39;);
</code></pre></div>
<h4 id="특정-아이템을-찾거나-기본값-반환받기">특정 아이템을 찾거나 기본값 반환받기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$value = Session::get(&#39;key&#39;, &#39;default&#39;);

$value = Session::get(&#39;key&#39;, function() { return &#39;default&#39;; });
</code></pre></div>
<h4 id="아이템-값-가져온-후-삭제하기">아이템 값 가져온 후 삭제하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$value = Session::pull(&#39;key&#39;, &#39;default&#39;);
</code></pre></div>
<h4 id="세션의-모든-데이터-가져오기">세션의 모든 데이터 가져오기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">$data = Session::all();
</code></pre></div>
<h4 id="세션에-아이템이-존재하는지-확인하기">세션에 아이템이 존재하는지 확인하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">if (Session::has(&#39;users&#39;))
{
    //
}
</code></pre></div>
<h4 id="세션에서-특정-아이템-삭제하기">세션에서 특정 아이템 삭제하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Session::forget(&#39;key&#39;);
</code></pre></div>
<h4 id="세션의-모든-아이템-삭제하기">세션의 모든 아이템 삭제하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Session::flush();
</code></pre></div>
<h4 id="세션-id-재생성하기">세션 ID 재생성하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Session::regenerate();
</code></pre></div>
<div class="chak-comment-wrap"><div class="chak-comment-widget" data-chak-group="laravel" data-chak-apikey="582898af492efbcdd53990e1c6ccb89d-laravel-korean-docs-세션(Session)-세션-사용법" ><i class="xi-message"></i> <strong>클릭</strong>하여 의견을 공유할 수 있습니다. ( 총 <span class="count"><i class="xi-spinner-5 xi-spin"></i></span>개의 의견이 있습니다. )</div></div>

<p><a name="flash-data"></a></p>

<h2 id="임시-데이터">임시 데이터</h2>

<p>때로는 바로 다음번의 요청에서만 사용하기 위해서 세션에 아이템을 저장할 수 있습니다. 바로 <code>Session::flash</code> 메소드를 사용하는 것입니다:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Session::flash(&#39;key&#39;, &#39;value&#39;);
</code></pre></div>
<h4 id="현재의-임시-데이터를-다른-요청에서-사용하기-위해서-다시-임시-저장하기">현재의 임시 데이터를 다른 요청에서 사용하기 위해서 다시 임시 저장하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Session::reflash();
</code></pre></div>
<h4 id="임시-데이터의-일부-값만-다시-임시-저장하기">임시 데이터의 일부 값만 다시 임시 저장하기</h4>
<div class="highlight"><pre><code class="language-text" data-lang="text">Session::keep([&#39;username&#39;, &#39;email&#39;]);
</code></pre></div>
<div class="chak-comment-wrap"><div class="chak-comment-widget" data-chak-group="laravel" data-chak-apikey="582898af492efbcdd53990e1c6ccb89d-laravel-korean-docs-세션(Session)-임시-데이터" ><i class="xi-message"></i> <strong>클릭</strong>하여 의견을 공유할 수 있습니다. ( 총 <span class="count"><i class="xi-spinner-5 xi-spin"></i></span>개의 의견이 있습니다. )</div></div>

<p><a name="database-sessions"></a></p>

<h2 id="데이터베이스-세션">데이터베이스 세션</h2>

<p><code>database</code> 세션 드라이버를 사용하는 경우 세션 아이템들이 저장될 테이블을 생성해야 합니다. 다음의 <code>Schema</code> 예제를 통해서 테이블을 생성할 수 있습니다.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Schema::create(&#39;sessions&#39;, function($table)
{
    $table-&gt;string(&#39;id&#39;)-&gt;unique();
    $table-&gt;text(&#39;payload&#39;);
    $table-&gt;integer(&#39;last_activity&#39;);
});
</code></pre></div>
<p>물론, <code>session:table</code> 아티즌 명령어를 통해서 이 마이그레이션을 생성할 수 있습니다!</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">php artisan session:table

composer dump-autoload

php artisan migrate
</code></pre></div>
<div class="chak-comment-wrap"><div class="chak-comment-widget" data-chak-group="laravel" data-chak-apikey="582898af492efbcdd53990e1c6ccb89d-laravel-korean-docs-세션(Session)-데이터베이스-세션" ><i class="xi-message"></i> <strong>클릭</strong>하여 의견을 공유할 수 있습니다. ( 총 <span class="count"><i class="xi-spinner-5 xi-spin"></i></span>개의 의견이 있습니다. )</div></div>

<p><a name="session-drivers"></a></p>

<h2 id="세션-드라이버">세션 드라이버</h2>

<p>세션 “드라이버”는 각각의 요청에 따라 세션이 어디에 저장될지를 결정합니다. 라라벨은 별다른 설정 없이 다양한 드라이버를 사용할 수 있습니다:</p>

<ul>
<li><code>file</code> - 세션이 <code>storage/framework/sessions</code> 폴더에 저장됩니다.</li>
<li><code>cookie</code> - 암호화된 쿠키를 사용하여 안전하게 세션을 저장할 것입니다.</li>
<li><code>database</code> - 세션은 어플리케이션에 의해서 데이터베이스에 저장됩니다.</li>
<li><code>memcached</code> / <code>redis</code> - 세션은 캐시 기반의 드라이버들에 의해 빠르게 저장됩니다.</li>
<li><code>array</code> - 세션은 간단한 PHP 배열에 저장되지만 요청들간에 지속되지 않습니다.</li>
</ul>

<blockquote>
<p><strong>주의:</strong> 배열 드라이버의 경우에는 실제로 세션은 유지되지 않기 때문에 <a href="/laravel-korean-docs/docs/5.0/testing">unit tests</a>를 수행하는 데에만 사용하시기 바랍니다.</p>
</blockquote>

<div class="chak-comment-wrap"><div class="chak-comment-widget" data-chak-group="laravel" data-chak-apikey="582898af492efbcdd53990e1c6ccb89d-laravel-korean-docs-세션(Session)-세션-드라이버" ><i class="xi-message"></i> <strong>클릭</strong>하여 의견을 공유할 수 있습니다. ( 총 <span class="count"><i class="xi-spinner-5 xi-spin"></i></span>개의 의견이 있습니다. )</div></div>

      </article>

    
        </div>
    </div>
</div>
<script>
$('p a[name]').each(function(){
  var name = $(this).attr('name');
  $(this).parent().next('h2').wrapInner('<a name=' + name + '></a>');
  $(this).parent().remove();
});
$('code[class=language-text]').each(function(){
	$(this).removeClass('language-text').addClass('language-php');
});
</script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
  var pageTracker = _gat._getTracker("UA-46389165-7");
pageTracker._trackPageview();
} catch(err) {}
</script>
<script type="text/javascript">
    $('.chak-comment-widget').each(function(){

        var apikey = $(this).data('chak-apikey');
        var $count = $(this).find('.count');

        $.ajax({
            url : "//chak.it/laravel/v1/" + apikey + "/articles/count",
            dataType : "jsonp",
            jsonp : "callback",
        }).done(function(data){
            $count.text(data.count);
        });

        $(this).click(function() {
            var div = document.createElement("div");
            div.setAttribute("data-chak-apikey", apikey);

            $(this).after(div);

            manuallySetChakService(div);

            $(this).parent().addClass('active');
            $(this).remove();
        });
    });
</script>
<script type="text/javascript">
    (function() {
        var chak = document.createElement('script');
        chak.type = 'text/javascript'; chak.src = '//chak.it/static/service.js'; chak.async = true;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(chak);
    })();
</script>


  </body>

</html>
